(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{331:function(t,e,s){"use strict";s.r(e);var a=s(6),r=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"何为api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#何为api"}},[t._v("#")]),t._v(" 何为API")]),t._v(" "),e("p",[t._v("API（Application Programming Interface） 翻译过来是“应用程序编程接口”的意思。是一组用于构建和集成应用软件的定义和协议。")]),t._v(" "),e("p",[t._v("API 有时被视为合同，而合同文本则代表了各方之间的协议：如果一方以特定方式发送远程请求，该协议规定了另一方的软件将如何做出响应。")]),t._v(" "),e("p",[t._v("但是， API 不仅仅代表后端系统暴露的接口，像框架中提供的方法也属于 API 的范畴。")]),t._v(" "),e("p",[t._v("为了方便理解，我再列举几个例子 🌰：")]),t._v(" "),e("ol",[e("li",[t._v("你通过某电商网站搜索某某商品，电商网站的前端就调用了后端提供了搜索商品相关的 API。")]),t._v(" "),e("li",[t._v("你使用 JDK 开发 Java 程序，想要读取用户的输入的话，你就需要使用 JDK 提供的 IO 相关的 API。")]),t._v(" "),e("li",[t._v("......")])]),t._v(" "),e("p",[t._v("你可以把 API 理解为程序与程序之间通信的桥梁。另外，API 的使用也不是没有章法的，它的规则（比如数据输入和输出的格式）由API 提供方制定。")]),t._v(" "),e("h2",{attrs:{id:"何为restful-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#何为restful-api"}},[t._v("#")]),t._v(" 何为RESTful API")]),t._v(" "),e("p",[t._v("举个例子")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("GET    /classes：列出所有班级\nPOST   /classes：新建一个班级\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("p",[t._v("RESTful API 可以让你看到 URL+Http Method 就知道这个 URL 是干什么的，让你看到了 HTTP 状态码（status code）就知道请求结果如何。")]),t._v(" "),e("h2",{attrs:{id:"解读rest"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解读rest"}},[t._v("#")]),t._v(" 解读REST")]),t._v(" "),e("p",[t._v("REST 的全称是 Resource Representational State Transfer ，直白地翻译过来就是 “资源”在网络传输中以某种“表现形式”进行“状态转移” 。如果还是不能继续理解，请继续往下看，相信下面的讲解一定能让你理解到底啥是 REST 。")]),t._v(" "),e("p",[t._v("我们分别对上面涉及到的概念进行解读，以便加深理解，实际上你不需要搞懂下面这些概念，也能看懂我下一部分要介绍到的内容。不过，为了更好地能跟别人扯扯 “RESTful API”我建议你还是要好好理解一下！")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("资源（Resource）")]),t._v("：我们可以把真实的对象数据称为资源。一个资源既可以是一个集合，也可以是单个个体。比如我们的班级 classes 是代表一个集合形式的资源，而特定的 class 代表单个个体资源。每一种资源都有特定的 URI（统一资源标识符）与之对应，如果我们需要获取这个资源，访问这个 URI 就可以了，比如获取特定的班级：/class/12。另外，资源也可以包含子资源，比如 /classes/classId/teachers：列出某个指定班级的所有老师的信息")]),t._v(" "),e("li",[e("strong",[t._v("表现形式（Representational）")]),t._v('："资源"是一种信息实体，它可以有多种外在表现形式。我们把"资源"具体呈现出来的形式比如 json，xml，image,txt 等等叫做它的"表现层/表现形式"。')]),t._v(" "),e("li",[e("strong",[t._v("状态转移（State Transfer）")]),t._v("：大白话来说 REST 中的状态转移更多地描述的服务器端资源的状态，比如你通过增删改查（通过 HTTP 动词实现）引起资源状态的改变。ps:互联网通信协议 HTTP 协议，是一个无状态协议，所有的资源状态都保存在服务器端。")])]),t._v(" "),e("p",[t._v("综合上面的解释，我们总结一下什么是 RESTful 架构：")]),t._v(" "),e("ol",[e("li",[t._v("每一个 URI 代表一种资源；")]),t._v(" "),e("li",[t._v("客户端和服务器之间，传递这种资源的某种表现形式比如 json，xml，image,txt 等等；")]),t._v(" "),e("li",[t._v('客户端通过特定的 HTTP 动词，对服务器端资源进行操作，实现"表现层状态转化"。')])]),t._v(" "),e("h2",{attrs:{id:"基于http设计rest-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基于http设计rest-api"}},[t._v("#")]),t._v(" 基于HTTP设计REST API")]),t._v(" "),e("h3",{attrs:{id:"域名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#域名"}},[t._v("#")]),t._v(" 域名")]),t._v(" "),e("p",[t._v("应该尽量将API部署在专用域名之下。")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("https://api.example.com\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("如果确定API很简单，不会有进一步扩展，可以考虑放在主域名下。")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("https://example.org/api/\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("h3",{attrs:{id:"路径"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#路径"}},[t._v("#")]),t._v(" 路径")]),t._v(" "),e("p",[t._v('路径又称"终点"（endpoint），表示 API 的具体网址。')]),t._v(" "),e("ol",[e("li",[e("strong",[t._v("网址中不能有动词")])])]),t._v(" "),e("p",[t._v('在RESTful架构中，每个网址代表一种资源（resource），所以网址中不能有动词，只能有名词，而且所用的名词往往与数据库的表格名对应。一般来说，数据库中的表都是同种记录的"集合"（collection），所以API中的名词也应该使用复数。')]),t._v(" "),e("p",[t._v("举例来说，有一个API提供动物园（zoo）的信息，还包括各种动物和雇员的信息，则它的路径应该设计成下面这样。")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("https://api.example.com/v1/zoos\nhttps://api.example.com/v1/animals\nhttps://api.example.com/v1/employees\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("ol",{attrs:{start:"2"}},[e("li",[e("strong",[t._v("版本")])])]),t._v(" "),e("p",[t._v("应该将API的版本号放入URL。")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("https://api.example.com/v1/\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("另一种做法是，将版本号放在HTTP头信息中，但不如放入URL方便和直观。Github采用这种做法。")]),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[e("strong",[t._v("不用大写字母，建议用中杠 - 不用下杠 _。")])])]),t._v(" "),e("p",[t._v("比如邀请码写成 invitation-code而不是 "),e("s",[t._v("invitation_code")])]),t._v(" "),e("h3",{attrs:{id:"http动词"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http动词"}},[t._v("#")]),t._v(" HTTP动词")]),t._v(" "),e("ul",[e("li",[t._v("GET：请求从服务器获取特定资源。举个例子：GET /classes（获取所有班级）")]),t._v(" "),e("li",[t._v("POST ：在服务器上创建一个新的资源。举个例子：POST /classes（创建班级）")]),t._v(" "),e("li",[t._v("PUT ：更新服务器上的资源（客户端提供更新后的整个资源）。举个例子：PUT /classes/12（更新编号为 12 的班级）")]),t._v(" "),e("li",[t._v("PATCH ：更新服务器上的资源（客户端提供更改的属性，可以看做作是部分更新），使用的比较少，这里就不举例子了。")]),t._v(" "),e("li",[t._v("DELETE ：从服务器删除特定的资源。举个例子：DELETE /classes/12（删除编号为 12 的班级）")])]),t._v(" "),e("p",[t._v("还有两个不常用的HTTP动词")]),t._v(" "),e("ul",[e("li",[t._v("HEAD：获取资源的元数据。")]),t._v(" "),e("li",[t._v("OPTIONS：获取信息，关于资源的哪些属性是客户端可以改变的。")])]),t._v(" "),e("h2",{attrs:{id:"参考链接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[t._v("#")]),t._v(" 参考链接")]),t._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"https://RESTfulapi.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://RESTfulapi.net/"),e("OutboundLink")],1)])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2014/05/restful_api.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.ruanyifeng.com/blog/2014/05/restful_api.html"),e("OutboundLink")],1)])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://juejin.im/entry/59e460c951882542f578f2f0",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://juejin.im/entry/59e460c951882542f578f2f0"),e("OutboundLink")],1)])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://phauer.com/2016/testing-RESTful-services-java-best-practices/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://phauer.com/2016/testing-RESTful-services-java-best-practices/"),e("OutboundLink")],1)])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://www.seobility.net/en/wiki/REST_API",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.seobility.net/en/wiki/REST_API"),e("OutboundLink")],1)])]),t._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://dev.to/duomly/rest-api-vs-graphql-comparison-3j6g",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://dev.to/duomly/rest-api-vs-graphql-comparison-3j6g"),e("OutboundLink")],1)])])])])}),[],!1,null,null,null);e.default=r.exports}}]);